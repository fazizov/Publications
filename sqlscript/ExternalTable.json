{
	"name": "ExternalTable",
	"properties": {
		"content": {
			"query": "-- CREATE MASTER KEY ENCRYPTION BY PASSWORD ='MyPassword20#0';\n\n-- CREATE DATABASE SCOPED CREDENTIAL sqlondemand\n-- WITH IDENTITY='SHARED ACCESS SIGNATURE',  \n-- SECRET = '?sv=2020-08-04&ss=b&srt=c&sp=rwdlacx&se=2023-04-29T07:28:37Z&st=2022-04-28T23:28:37Z&spr=https&sig=8vr9AEPf%2BMu1VCCavU7VyOC8y0crkxhNUX%2FQBcBZ2pw%3D'\n-- GO\n\n-- CREATE EXTERNAL FILE FORMAT DeltaLakeFormat WITH (  FORMAT_TYPE = DELTA );\n--GO\nUSE EDW;\n-- CREATE EXTERNAL DATA SOURCE [STG_EDS2] WITH\n-- (\n-- \tLOCATION = 'https://synstg.blob.core.windows.net/syn-fs/delta/gold/'\n-- );\n\nSELECT\n    TOP 100 *\nFROM\n    OPENROWSET(\n        BULK 'DimCustomer',\n        DATA_SOURCE = 'STG_EDS2',\n        FORMAT = 'DELTA'\n    ) AS [result]\n\n\n-- CREATE EXTERNAL TABLE [dbo].[dimWatermarks]\n-- (\n-- \t[TableName] [varchar](100),\n-- \t[LastKey] [BIGINT]\n-- )\n-- WITH\n-- (\n-- \tLOCATION = '/dimWatermarks',\n-- \tDATA_SOURCE = STG_EDS,\n-- \tFILE_FORMAT = DeltaLakeFormat\n-- )\n\n-- select * from [dbo].[dimWatermarks]\n\n-- SELECT TOP 10 *\n-- FROM OPENROWSET\n--   (\n--       BULK '/delta/gold/dimWatermarks/',\n--       DATA_SOURCE = 'STG_EDS',\n--       FORMAT = 'DELTA'\n--   )\n\n\n\n-- SELECT TOP 10 *\n-- FROM OPENROWSET\n--   (\n--       BULK '/delta/gold/dimWatermarks/',\n--       DATA_SOURCE = 'STG_EDS',\n--       FORMAT = 'DELTA'\n--   )\n-- CREATE EXTERNAL TABLE [dbo].[DimCustomer]\n-- (\n-- \t[CustomerId] INT,\n-- \t[CompanyName] [nvarchar](128) ,\n-- \t[EmailAddress] [nvarchar](50) ,\n-- \t[FirstName] [varchar](100),\n-- \t[LastName] [varchar](100),\n-- \tMiddleName\t[varchar](100),\n-- \tModifiedDate\tNameStyle\tPhone\tSalesPerson\tSuffix\tTitle\tDateInserted\tCompanyName_Prev\tUserName\tDomain\tEffectiveFromDate\tEffectiveToDate\tIsActive\tRowSignature\tCustomerKey\n\n\t\n-- \t[Title] [nvarchar](8) NULL,\n\t\n-- \t[MiddleName] [dbo].[Name] NULL,\n-- \t[LastName] [dbo].[Name] NOT NULL,\n-- \t[Suffix] [nvarchar](10) NULL,\n\t\n-- \t[SalesPerson] [nvarchar](256) NULL,\n\n-- \t[Phone] [dbo].[Phone] NULL,\n-- )\n-- WITH\n-- (\n-- \tLOCATION = '/DimCustomer',\n-- \tDATA_SOURCE = STG_EDS,\n-- \tFILE_FORMAT = DeltaLakeFormat\n-- )\n\n-- CREATE EXTERNAL DATA SOURCE SqlOnDemandDemo WITH (\n--      LOCATION = 'https://synstg.blob.core.windows.net',\n--      CREDENTIAL = sqlondemand\n--  );\n-- GO\n\n",
			"metadata": {
				"language": "sql"
			},
			"currentConnection": {
				"databaseName": "EDW",
				"poolName": "Built-in"
			},
			"resultLimit": 5000
		},
		"type": "SqlQuery"
	}
}